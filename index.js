var jsmodule=function(e){function t(t){for(var n,r,a=t[0],c=t[1],i=0,d=[];i<a.length;i++)r=a[i],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(l&&l(t);d.length;)d.shift()()}var n={},o={0:0};var r={};var a={2:function(){return{}}};function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=i);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=function(e){return c.p+""+({}[e]||e)+".js"}(e);var l=new Error;d=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[e]=void 0}};var u=setTimeout((function(){d({type:"timeout",target:s})}),12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return({1:[2]}[e]||[]).forEach((function(e){var n=r[e];if(n)t.push(n);else{var o,i=a[e](),d=fetch(c.p+""+{2:"c4e88f3f2d2839863cc5"}[e]+".module.wasm");if(i instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)o=Promise.all([WebAssembly.compileStreaming(d),i]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"==typeof WebAssembly.instantiateStreaming)o=WebAssembly.instantiateStreaming(d,i);else{o=d.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,i)}))}t.push(r[e]=o.then((function(t){return c.w[e]=(t.instance||t).exports})))}})),Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e},c.w={};var i=window.webpackJsonpjsmodule=window.webpackJsonpjsmodule||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=d;return c(c.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"getPaperDocs",(function(){return p}));const o=n.e(1).then(n.bind(null,1));const r=(a=null,function(e){e.preventDefault();const t="https://www.dropbox.com/oauth2/authorize?client_id=ebapspmlhsl9rn9&response_type=token&redirect_uri=https%3A%2F%2Frobamler.github.io%2Fbluepaper%2Foauth-redirect.html&state=remember%3D"+!!document.getElementById("remember").checked;null===a||a.closed?null===(a=window.open(t,"authorize","width=730,height=700,location,status,resizable,scrollbars"))&&(location.href=t):a.focus()});var a;function c(e){const t=e.dataTransfer.items;1===t.length&&"file"===t[0].kind&&(e.stopPropagation(),e.preventDefault(),document.getElementById("drop-feedback").style.display="block",document.getElementById("main").classList.add("blurred"),e.dataTransfer.dropEffect="copy")}function i(e){e.stopPropagation(),e.preventDefault(),document.getElementById("drop-feedback").style.display="none",document.getElementById("main").classList.remove("blurred")}function d(e){var t=new FileReader;t.onload=async function(e){b(),document.querySelector(".result").classList.add("solo"),document.getElementById("first-step-doclist").style.display="none";let t=(await o).markdown_to_latex(e.target.result);document.getElementById("latex").value=t,setTimeout((function(){textarea.scrollTo(0,0)}),0)},t.readAsText(e)}function s(e){i(e);const t=e.dataTransfer.items;1===t.length&&"file"===t[0].kind&&d(e.dataTransfer.files[0])}function l(e){d(e.target.files[0])}function u(e){e.preventDefault(),m(),document.execCommand("copy"),document.getElementById("confirm-copy").style.visibility="visible"}function m(){var e=document.getElementById("latex");e.select(),e.setSelectionRange(0,999999),setTimeout((function(){e.scrollTo(0,0)}),0)}async function p(e){document.getElementById("authorization-container").style.display="none",document.getElementById("doc_list").style.display="block";const t="https://api.dropboxapi.com/2/paper/docs/list?reject_cors_preflight=true&authorization=Bearer%20"+encodeURIComponent(e),n={filter_by:"docs_accessed",sort_by:"modified",sort_order:"descending",limit:100};try{var o=await fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain; charset=dropbox-cors-hack"},body:JSON.stringify(n)}),r=JSON.parse(await o.text())}catch{document.getElementById("wait-document").style.display="none",document.getElementById("error-document").style.display="table-row"}r.error?"invalid_access_token"===r.error[".tag"]?(document.getElementById("doc_list").style.display="none",document.getElementById("authorization-container").style.display="block"):(document.getElementById("wait-document").style.display="none",document.getElementById("error-document").style.display="table-row",document.getElementById("error-document-text").innerText="An unknown error occurred."):(await Promise.all(r.doc_ids.map((t,n)=>(async function(e,t,n){var o="https://api.dropboxapi.com/2/paper/docs/download?reject_cors_preflight=true&authorization=Bearer%20"+encodeURIComponent(e)+"&arg="+encodeURIComponent(JSON.stringify({doc_id:t,export_format:"markdown"}));try{var r=await fetch(o,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain; charset=utf-8"}})}catch{console.log("Error while trying to download document meta data.")}const a=JSON.parse(r.headers.get("dropbox-api-result"));g[t]={meta:a,markdown:r.text()};var c=document.createElement("tr");c.classList.add("document"),c.setAttribute("data-index",n),c.setAttribute("data-docid",t);var i=document.createElement("td");i.classList.add("list_icon");var d=document.createElement("img");d.src="document.svg",i.appendChild(d),c.appendChild(i);var s=document.createElement("td");s.classList.add("list_text"),s.appendChild(document.createTextNode(a.title));var l=document.createElement("div");l.classList.add("doc_owner"),l.appendChild(document.createTextNode(a.owner)),s.appendChild(l),c.appendChild(s),c.addEventListener("click",y);const u=document.getElementById("doc_table"),m=Array.prototype.find.call(u.childNodes,e=>"TR"===e.nodeName&&e.getAttribute("data-index")>n);u.insertBefore(c,m)})(e,t,n))),document.getElementById("wait-document").style.display="none")}var y,f,h,g={};function b(){document.getElementById("choices-header").style.display="none",document.getElementById("choice-manual").style.display="none",document.getElementById("choice-cli").style.display="none",document.querySelector("#choice-oauth h2").style.display="none",document.querySelector("#choice-oauth .steps").classList.add("active"),document.getElementById("confirm-copy").style.visibility="hidden"}[y,f]=(h=null,[async function(e){e.preventDefault(),b(),h&&h.classList.remove("selected"),(h=e.currentTarget).classList.add("selected");const t=h.getAttribute("data-docid"),n=await g[t].markdown,r=await o;if(t!==h.getAttribute("data-docid"))return;let a=r.markdown_to_latex(n);document.getElementById("latex").value=a,setTimeout((function(){textarea.scrollTo(0,0)}),0)},function(e){e.preventDefault(),document.getElementById("choices-header").style.display="block",document.getElementById("choice-manual").style.display="block",document.getElementById("choice-cli").style.display="block",document.getElementById("first-step-doclist").style.display="block",document.querySelector("#choice-oauth h2").style.display="block",document.querySelector("#choice-oauth .steps").classList.remove("active"),document.querySelector(".result").classList.remove("solo"),h&&h.classList.remove("selected")}]);const v=(E=null,function(e){var t=document.getElementById(location.hash.substring(1));if(t.classList.contains("highlighter")){var n=0;null!==E&&(clearTimeout(E),E=null,t.classList.remove("highlight"),n=200),setTimeout((function(){t.classList.add("highlight"),E=setTimeout((function(){E=null,t.classList.remove("highlight")}),4100)}),n),history.pushState(null,"","#")}});var E;document.addEventListener("DOMContentLoaded",(function(){window.onhashchange=v,document.getElementById("authorize").addEventListener("click",r),document.getElementById("copy").addEventListener("click",u),document.getElementById("latex").addEventListener("click",m),document.getElementById("back-to-start").addEventListener("click",f),document.body.addEventListener("dragover",c,!1),document.body.addEventListener("dragexit",i,!1),document.body.addEventListener("drop",s,!1),document.getElementById("files").addEventListener("change",l);const e=document.cookie.match(/(^|; ?)bluepaper_dropbox_access_tokens=([^;]+)/);if(e){document.cookie="bluepaper_dropbox_access_tokens="+e[2]+";max-age=31536000;secure;samesite=strict";const t=JSON.parse(decodeURIComponent(e[2]));p(t.tokens[t.last_used])}}))}]);